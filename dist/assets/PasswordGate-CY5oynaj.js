import{j as s,r as x}from"./index-DK8LjcLZ.js";const v=({onKeyPress:c,isVisible:m,onClose:a})=>{if(!m)return null;const i=[["1","2","3"],["4","5","6"],["7","8","9"],["0"]],n=o=>{c(o)},h=()=>{c("Backspace")};return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 bg-opacity-95 backdrop-blur-sm p-4 z-50 border-t border-gray-600",children:s.jsxs("div",{className:"max-w-sm mx-auto",children:[s.jsxs("div",{className:"text-white text-center mb-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-medium",children:"숫자 키보드"}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white text-xl",children:"✕"})]}),s.jsxs("div",{className:"space-y-3",children:[i.map((o,u)=>s.jsx("div",{className:"flex justify-center gap-3",children:o.map(l=>s.jsx("button",{onClick:()=>n(l),className:`w-16 h-16 bg-gray-700 hover:bg-gray-600 active:bg-gray-500 
                           text-white text-xl font-bold rounded-lg transition-all duration-150
                           border border-gray-600 hover:border-gray-500`,children:l},l))},u)),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx("button",{onClick:h,className:`w-32 h-12 bg-red-600 hover:bg-red-500 active:bg-red-400
                       text-white text-lg font-medium rounded-lg transition-all duration-150
                       border border-red-500 hover:border-red-400`,children:"⌫ 지우기"})})]})]})})},j={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},N=({passwordKey:c,onSuccess:m})=>{const[a,i]=x.useState(["","","",""]),n=x.useRef([]),[h,o]=x.useState(!1),u=j[`VITE_${c}_PASSWORD`]||"1004";x.useEffect(()=>{n.current[0]&&n.current[0].focus()},[]);const l=r=>{const e=r.join("");e.length===4&&(e===u?m():(alert("패스워드가 틀렸습니다!"),b()))},b=()=>{i(["","","",""]),setTimeout(()=>{n.current[0]&&n.current[0].focus()},100)},f=(r,e)=>{if(e.length>1)return;const t=[...a];t[r]=e,i(t),e&&r<3&&setTimeout(()=>{var d;n.current[r+1]&&((d=n.current[r+1])==null||d.focus())},50),l(t)},g=(r,e)=>{e.key==="Backspace"&&!a[r]&&r>0&&setTimeout(()=>{var t;n.current[r-1]&&((t=n.current[r-1])==null||t.focus())},50)},p=r=>{if(r==="Backspace"){let e=-1;for(let t=3;t>=0;t--)if(a[t]!==""){e=t;break}if(e>=0){const t=[...a];t[e]="",i(t),setTimeout(()=>{var d;n.current[e]&&((d=n.current[e])==null||d.focus())},50)}}else if(/^\d$/.test(r)){const e=a.findIndex(t=>t==="");e>=0&&f(e,r)}},w=()=>{c==="VIEW"&&o(!0)};return s.jsxs("div",{className:"h-screen flex flex-col justify-between items-center p-8",style:{backgroundColor:"#002D72"},children:[s.jsx("div",{className:"flex-shrink-0 mt-8 md:mt-16",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:"/ci.png",alt:"HYUNDAI GLOVIS",className:"h-12 sm:h-16 md:h-20 lg:h-24 w-auto max-w-[80vw] object-contain",onError:r=>{const e=r.target;e.style.display="none";const t=e.parentElement;t&&(t.innerHTML=`
                  <div class="relative text-center">
                    <div class="text-white text-sm sm:text-base md:text-lg font-bold tracking-wider leading-none mb-1">
                      HYUNDAI
                    </div>
                    <div class="text-white text-3xl sm:text-4xl md:text-5xl font-bold tracking-wider leading-none ml-8 sm:ml-12 md:ml-16">
                      GLOVIS
                    </div>
                  </div>
                `)}})})}),s.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center",children:[s.jsxs("div",{className:"text-white text-lg sm:text-xl md:text-2xl font-bold mb-8 text-center",children:[c==="ADMIN"?"관리자":"뷰어"," 비밀번호를 입력하세요"]}),s.jsx("div",{className:"flex space-x-3 sm:space-x-4 md:space-x-6",children:a.map((r,e)=>s.jsx("input",{ref:t=>n.current[e]=t,type:"password",value:r,onChange:t=>f(e,t.target.value),onKeyDown:t=>g(e,t),onFocus:w,maxLength:1,className:`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 
                           text-center text-xl sm:text-2xl md:text-3xl font-bold
                           border-2 border-white rounded-lg
                           bg-transparent text-white placeholder-gray-300
                           focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50
                           transition-all duration-200`,style:{color:r?"transparent":"white",textShadow:r?"0 0 0 white":"none",caretColor:"white"}},e))}),s.jsx("div",{className:"mt-6 text-white text-sm sm:text-base opacity-80 text-center",children:"숫자 4자리를 입력해주세요"})]}),s.jsx("div",{className:"flex-shrink-0 mb-8",children:s.jsxs("div",{className:"text-white text-xs sm:text-sm opacity-80 text-center font-medium space-y-1",children:[s.jsx("div",{children:"© 2025 HYUNDAI GLOVIS. All rights reserved."}),s.jsx("div",{className:"text-xs opacity-60",children:"BOARD7 System v1.0 | Built with React, TypeScript, Tailwind CSS"}),s.jsx("div",{className:"text-xs opacity-60",children:"Firebase, Zustand, React Router | Open Source Components"})]})}),c==="VIEW"&&s.jsx(v,{isVisible:h,onKeyPress:p,onClose:()=>o(!1)})]})};export{N as P};
